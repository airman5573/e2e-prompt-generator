# E2E Prompt Builder

### 쓰면 좋은 점
- 테스트 코드를 위한 프롬프트를 조금 더 쉽게 작성할 수 있습니다.
- 키보드 위주 조작으로 흐름을 깨지 않고 테스트 시나리오를 기록할 수 있습니다.

### 데모 (용량이 좀 커서 로딩 시간이 걸립니다)
![E2E Prompt Builder Demo](e2e-prompt-builder.gif)

### 사용법
1. 크롬 확장 아이콘을 켜고 원하는 페이지에서 요소를 가리킵니다.
2. 방향키로 DOM을 이동하면서 원하는 요소를 하이라이트합니다.
3. 요소를 **클릭**하면 `{선택자} 클릭하고` 문구가 프롬프트에 추가되지만 모달은 닫힌 상태로 유지됩니다.
4. 프롬프트를 즉시 편집하려면 요소를 `Ctrl+Click`(macOS는 `Cmd+Click`)으로 선택하거나 `Space` 키를 눌러 모달을 열 수 있습니다.
5. 단계 설명을 적은 뒤 `Enter`로 저장하고 `Copy`로 전체 프롬프트를 복사합니다.
6. 모달 밖을 클릭하거나 `Escape`를 누르면 모달이 닫히며, 다시 `Escape`를 누르면 기존 내용을 유지한 채 모달이 다시 열립니다.

### 단축키
| 상황 | 단축키 | 기능 |
|------|--------|------|
| 하이라이트 모드 | 위쪽 방향키 | 우선순위에 맞는 부모 요소로 이동합니다. |
| 하이라이트 모드 | 아래쪽 방향키 | 다음 일치하는 하위 요소로 이동합니다. |
| 하이라이트 모드 | 마우스 클릭 | 모달을 열지 않고 `{선택자} 클릭하고` 문구만 프롬프트에 추가합니다. |
| 하이라이트 모드 | Ctrl+Click / Cmd+Click | 프롬프트 모달을 열고 `{선택자} 클릭하고` 문구를 추가합니다. |
| 하이라이트 모드 | Space | 프롬프트 모달을 열고 현재 셀렉터를 추가합니다. |
| 하이라이트 모드 | Escape | 모달이 닫혀 있다면 마지막 프롬프트 상태로 다시 엽니다. |
| 프롬프트 모달 | Enter | 새 단계 번호를 추가하고 모달을 닫습니다. |
| 프롬프트 모달 | Cmd+Enter / Ctrl+Enter | 새 단계 번호를 추가하고 모달을 열어둡니다. |
| 프롬프트 모달 | Escape | 현재 단계를 유지하며 모달을 닫습니다 (뒤에 공백 추가). |

### 자동 저장
- 입력 중인 프롬프트는 3초마다 `localStorage`의 `e2ePromptSnapshots` 키에 스냅샷으로 저장됩니다.
- 페이지가 새로고침되더라도 동일한 페이지에서 확장을 다시 켜면 최근 단계와 커서 위치를 쉽게 확인할 수 있습니다.

### 설치 방법
1. 저장소를 내려받고 루트에서 `npm install`을 실행합니다.
2. `npm run build`로 `dist/`를 생성합니다.
3. `chrome://extensions/`에서 개발자 모드를 켠 뒤 `dist/` 폴더를 불러옵니다.
